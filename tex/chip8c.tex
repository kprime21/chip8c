\documentclass{article}
\title{\vspace{-7em} Chip8 Emulator in C}
\author{Kirjan Kohuladas/kprime21}
\date{}

\begin{document}
\maketitle


\section*{Overview}
Compact Hexadecimal Interpretive Programming â€“ 8-bit 
\subsection*{Components}
\begin{itemize}
	\item Memory - 4kB ram (4096 bytes - 4096 address lines each line is 1 byte)
	\item Display - 64 x 32 pixels 
	\item Registers
		\begin{itemize}
			\item Program Counter (16 bits)
			\item Index Register (16 bits) 
			\item Stack - call subroutines and functions (16 bits)
			\item Delay timer - decremented at 60Hz (8 bits)
			\item Sound timer - decremented at 60Hz (8 bits)
			\item 15 General purpose registers - V0 - VF (8 bits)
		\end{itemize}
\end{itemize}
\subsection*{Memory}
\begin{itemize}
	\item all memory is RAM, 4096 bytes. 
		\begin{itemize}
			\item 4096 addressable lines
			\item 12 bits needed
			\item each addressable line represents an addresss of 1 byte.
		\end{itemize}
	\item interpreter located 0x000-0x1FF (not in our case)
	\item program located 0x200 - 0x...
	\item font located before program 0x000-0x1FF (popular area - 0x050 - 0x09F)
\end{itemize}
\subsection*{Font}
\begin{itemize}
	\item font character should be 4px x 5px
	\item first byte is the character (draw vertically in nvim to see)
	\item stored in memory, index register set to specific font in memory to draw it
\end{itemize}
\subsection*{Display}
\begin{itemize}
	\item 60Hz - 60 times per second
	\item sprite consists of 8 bits
	\item sprites are between 1 and 15 bytes tall
	\item 0 bits are transparent and 1 bits flip pixel locations
\end{itemize}
\subsection*{Stack}
\begin{itemize}
	\item stack(LiFo) to call and return from subroutines
	\item 16 bit addresses (12 bits useful) are saved here
\end{itemize}
\subsection*{Timers}
\begin{itemize}
	\item two timer registers - the delay timer and sound timer
	\item one byte in size and if above 0, decremented by 1 60 times per second (60Hz)
	\item sound timer beeps as long as it's above 0
\end{itemize}
\subsection*{Keypad}
\begin{itemize}
	\item 123C
	\item 456D
	\item 789E
	\item A0BF
\end{itemize}
\subsection*{Fetch/decode/excute loop}
\begin{itemize}
	\item fetch the instruction from memory at current PC (program counter)
	\item decode the instruction to find what emulator should do
	\item execute instruction and do what it tells you
	\item this loop's speed has to be set so that it does not run too fast (700Hz)
	\item fetch: read instruction in PC, two successive bytes and combine into one 16 bit instruction, increment PC by 2
	\item decode: switch statement checking first half of instruction 
	\item nibbles after first used for decoding, extract these before decoding from opcode
	\begin{itemize}
		\item X - second nibble
		\item Y - third nibble
		\item N - fourth nibble
		\item NN - third and fourth nibble - 8 bit immd number
		\item NNN - second, third and fourth nibble - 12 bit immd address 
	\end{itemize}
	\item execute: do what each instruction should do in each case of the switch
\end{itemize}
\section*{Main}
\begin{itemize}
	\item Setup directory to ignore makefile outputs
	\item read through instructions
	\item make SDL display at 60fps 
\end{itemize}


\section*{Reference}
\begin{itemize}
	\item https://tobiasvl.github.io/blog/write-a-chip-8-emulator/
\end{itemize}

\end{document}
